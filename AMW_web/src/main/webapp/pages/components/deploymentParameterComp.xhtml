<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a4j="http://richfaces.org/a4j">

    <h:form id="deployParamForm">
        <a4j:outputPanel id="deployParamPanel" ajaxRendered="true">
            <h:dataTable id="deployParamTable" styleClass="well" var="deployParamKey"
                         value="${deploymentParameterView.allKeys}"
                         columnClasses=" ,last" rowClasses="odd-row,even-row">

                <f:facet name="caption">
                    <nav class="width430 actionbar">
                        <ul>
                            <li><h:inputText id="newDeployParamName" value="#{deploymentParameterView.deployParameterKeyName}" rendered="#{deploymentParameterView.canManageDeploymentPropertyKeys()}"/>
                                <a4j:commandLink styleClass="btn light"
                                                 action="#{deploymentParameterView.createNewKey()}"
                                                 render="deployParamTable"
                                                 rendered="#{deploymentParameterView.canManageDeploymentPropertyKeys()}">
                                    <i class="icon icon-add"/>
                                    <h:outputText value="Create new key"/>
                                </a4j:commandLink></li>
                        </ul>
                    </nav>
                    <h2>
                        <h:outputText value="Deployment Parameter Keys"/>
                    </h2>
                </f:facet>

                <h:column>
                    <h:outputText value="${deployParamKey.name}"/>
                </h:column>

                <h:column>
                    <a4j:commandLink value="Delete"
                                     action="${deploymentParameterView.deleteKey(deployParamKey)}"
                                     render="deployParamPanel"
                                     rendered="#{deploymentParameterView.canManageDeploymentPropertyKeys()}">
                    </a4j:commandLink>
                </h:column>

            </h:dataTable>
        </a4j:outputPanel>
    </h:form>
</ui:composition>
